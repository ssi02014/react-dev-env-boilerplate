# ğŸ’» ë¦¬ì•¡íŠ¸ ì»¤ìŠ¤í…€ ê°œë°œ í™˜ê²½ ë³´ì¼ëŸ¬ í”Œë ˆì´íŠ¸
- í•´ë‹¹ ì €ì¥ì†ŒëŠ” `ë¦¬ì•¡íŠ¸ ì»¤ìŠ¤í…€ ê°œë°œ í™˜ê²½ ë³´ì¼ëŸ¬ í”Œë ˆì´íŠ¸ ì €ì¥ì†Œ`ë¡œì„œ, react, webpack, babel, eslint ë“± ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰ í•  ë•Œ ê¸°ë³¸ì ìœ¼ë¡œ ì…‹íŒ…í•´ì•¼ë˜ëŠ” ê°œë°œ í™˜ê²½ì„ êµ¬ì¶•í•œ ì €ì¥ì†Œì…ë‹ˆë‹¤.
- ê¸°ë³¸ì ìœ¼ë¡œ react v18, webpack v5, esbuild-loader v3 ë“± `2023ë…„ 6ì›” ê¸°ì¤€` ìµœì‹  ë²„ì „ìœ¼ë¡œ êµ¬ì¶•ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
- README ë¬¸ì„œ í•˜ë‹¨ì—ëŠ” ì°¸ê³  ë‚´ìš©ì´ë¼ë˜ê°€ ê°œì¸ì ìœ¼ë¡œ ë” ì¶”ê°€í•˜ë©´ ì¢‹ì€ ë¡œë”/í”ŒëŸ¬ê·¸ì¸ ë‚´ìš©ë„ ìˆìœ¼ë‹ˆ ì°¸ê³ í•˜ë©´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.
- í•´ë‹¹ ì €ì¥ì†Œê°€ ë„ì›€ì´ ëë‹¤ë©´ **Star â­ï¸** ë„ ëˆŒëŸ¬ì£¼ì‹œë©´ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤. ë˜í•œ, ê°œì„  í•  ë‚´ìš©ì´ ìˆë‹¤ë©´ issue ë˜ëŠ” Pull Requestë„ ë“±ë¡í•´ì£¼ì‹œë©´ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.

<br />

## ğŸ“— ì‚¬ìš© ì ˆì°¨
### 1. Repo Clone
```
git clone https://github.com/ssi02014/react-dev-env-boilerplate.git
```

<br />

### 2. Branch & Checkout & Pull
- í•´ë‹¹ ë ˆí¬ëŠ” ë‹¤ì–‘í•œ í™˜ê²½ì— ë§ì¶° ë¸Œëœì¹˜ê°€ êµ¬ì„±ë˜ì–´ ìˆë‹¤. ê¸°í˜¸ì— ë§ê²Œ ì°¸ê³  or ì‚¬ìš©í•˜ë©´ ëœë‹¤.
- ë§Œì•½, `esbuild-loader` ë¸Œëœì¹˜ ì½”ë“œë¥¼ í™•ì¸í•˜ë ¤ë©´ ì•„ë˜ì˜ ì ˆì°¨ë¥¼ ì§„í–‰í•œë‹¤.

```
git branch esbuild-loader

git checkout -m esbuild-loader 

git pull origin esbuild-loader
```

<br />

### 3. íŒ¨í‚¤ì§€ ì„¤ì¹˜
- í•´ë‹¹ ë ˆí¬ëŠ” `yarn` íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ë¥¼ ê¸°ë°˜ìœ¼ë¡œ íŒ¨í‚¤ì§€ë¥¼ ê´€ë¦¬í•˜ê³  ìˆë‹¤. ë”°ë¼ì„œ yarnìœ¼ë¡œ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ì.

```
yarn
or
yarn install
```

<br />

## ğŸ‘¨ğŸ»â€ğŸ’» master Branch
- ê°€ì¥ ê¸°ë³¸ì ì¸ react, babel, typescript, eslint, prettier, jest, React Testing Library ì…‹íŒ… ë¸Œëœì¹˜

<br />

**ì…‹íŒ… ëª©ë¡**
- react v18
- typeScript
- webpack v5
- **babel**
- eslint
- prettier
- **jest**
- **react testing library**

<br />

## ğŸ‘¨ğŸ»â€ğŸ’» esbuild-loader Branch
- master Branch ì…‹íŒ…ì—ì„œ babel-loaderëŒ€ì‹  `esbuild-loader`ë¥¼ ì ìš©í•´ì„œ ë¹Œë“œ íƒ€ì„ì„ ê°ì†Œì‹œí‚¨ ë¸Œëœì¹˜

<br />

**ì…‹íŒ… ëª©ë¡**
- react v18
- typeScript
- webpack v5
- **esbuild-loader**
- eslint
- prettier

<br />

## ğŸ‘¨ğŸ»â€ğŸ’» esbuild-jest Branch
- esbuild-loader Branch ì…‹íŒ…ì—ì„œ `jest`, `react testing library` í…ŒìŠ¤íŠ¸ í™˜ê²½ ì¶”ê°€ ë¸Œëœì¹˜
- í…ŒìŠ¤íŠ¸ í™˜ê²½ì„ ìœ„í•´ `@babel/preset-typescript`, `@babel/preset-env`, `@babel/preset-react` ë° babel ì¶”ê°€ ì…‹íŒ…

<br />

**ì…‹íŒ… ëª©ë¡**
- react v18
- typeScript
- webpack v5
- esbuild-loader
- eslint
- prettier
- **jest**
- **react testing library**
  - jestë¥¼ ìœ„í•œ babel ì¼ë¶€ ì ìš©

<br />

## ğŸš€ ê·¸ ì™¸ ë³´ì¼ëŸ¬ í”Œë ˆì´íŠ¸ ì €ì¥ì†Œ
### React ì°¨ì„¸ëŒ€ ê°œë°œ íˆ´ ì ìš© ë³´ì¼ëŸ¬ í”Œë ˆì´íŠ¸ ì €ì¥ì†Œ
- [react-vite-berry-boilerplate](https://github.com/ssi02014/react-vite-berry-boilerplate)
- React, TypeScript, Vite, Yarn Berryë¡œ êµ¬ì„±í•œ ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ ë³´ì¼ëŸ¬ í”Œë ˆì´íŠ¸ ì €ì¥ì†Œ
- `Vite`ë¥¼ ì´ìš©í•œ ë¦¬ì•¡íŠ¸(+íƒ€ì…ìŠ¤í¬ë¦½íŠ¸) í”„ë¡œì íŠ¸ êµ¬ì„±
- Yarn Berryì˜ `Plugâ€™nâ€™Play(PnP)`ì™€ `Zero-Install` ì ìš©

<br />
<hr />

## ğŸ™‹ğŸ» ì°¸ê³  ë¬¸ì„œ
### ğŸ“„ 1. esbuild-loader?
- esbuild-loaderëŠ” `ë©€í‹° ìŠ¤ë ˆë“œ ê¸°ë°˜`ìœ¼ë¡œ ë™ì‘í•˜ëŠ” Goì–¸ì–´ë¡œ ì‘ì„±ëœ ë¡œë”ì´ë‹¤. ê·¸ë˜ì„œ ì‹±ê¸€ ìŠ¤ë ˆë“œ ê¸°ë°˜ì¸ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ë§Œë“¤ì–´ì§„ babelë³´ë‹¤ ì–¸ì–´ê°€ ë™ì‘í•˜ëŠ” ë³¸ì§ˆì ì¸ ì°¨ì´ë•Œë¬¸ì— í¼í¬ë¨¼ìŠ¤ ì¸¡ë©´ì—ì„œ ì°¨ì´ê°€ í¬ë‹¤.
- [kakao esbuild-loader ë¬¸ì„œ](https://fe-developers.kakaoent.com/2022/220707-webpack-esbuild-loader/)

<br />

**ê¸°ì¡´ babel-loader ë¹Œë“œ íƒ€ì„**

<br />

<img width="895" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-03-12 á„‹á…©á„’á…® 4 58 35" src="https://user-images.githubusercontent.com/64779472/224532396-fadcf15b-e561-4791-b7b8-d2175aea9b31.png">

<br />

**esbuild-loader ë„ì… í›„ ë¹Œë“œ íƒ€ì„**

<br />

<img width="690" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-03-12 á„‹á…©á„’á…® 4 55 08" src="https://user-images.githubusercontent.com/64779472/224532394-d49742c1-8151-433c-b2c2-051b3def0578.png">

<br />

### ğŸ“„ 2. @svgr/webpack
- @svgr/webpack íŒ¨í‚¤ì§€ëŠ” svgë¥¼ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ í˜•ì‹ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë³€í™˜í•´ì£¼ëŠ” ì›¹íŒ© ëª¨ë“ˆì´ë‹¤.
- https://react-svgr.com/

<br />

**ì˜ˆì œ**
```jsx
import Star from './star.svg'

const Example = () => (
  <div>
    <Star />
  </div>
)
```
- @svgr/webpackë¥¼ ì ìš©í•˜ë©´ ìœ„ ì˜ˆì œì²˜ëŸ¼ svgë¥¼ importí•´ì„œ ì»´í¬ë„ŒíŠ¸ë¡œ í˜•ì‹ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

<br />

### ğŸ“„ 3. Font Preload?
- Create React App(CRA)ë¡œ ë§Œë“  í”„ë¡œì íŠ¸ëŠ” fontë¥¼ preloadí•˜ë ¤ë©´ `craco`ì™€ ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•´ì„œ `preload-webpack-plugin`, `webpack-font-preload-plugin`ì„ ì ìš©í–ˆì–´ì•¼ í–ˆë‹¤.
  - TMI: preload-webpack-pluginëŠ” webpack5ë¶€í„° í˜¸í™˜ë˜ì§€ ì•Šì•„ì„œ webpack-font-preload-pluginë¥¼ ì‚¬ìš©í•´ì•¼ í•¨
- í•˜ì§€ë§Œ, í•´ë‹¹ ë³´ì¼ëŸ¬ í”Œë ˆì´íŠ¸ëŠ” `html-loader`ê°€ ì ìš©ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— preloadë¥¼ ìœ„í•œ í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.
  - CRAëŠ” html-loaderê°€ ì ìš©ë˜ì–´ìˆì§€ ì•Šê³ , html-webpack-plugin ë§Œ ì ìš©ë˜ì–´ ìˆì–´ì„œ ì´ëŸ° ì°¨ì´ê°€ ìˆìŒ.
  - ìì„¸í•œ ë‚´ìš©ì€ [ë¸”ë¡œê·¸: ì»¤ìŠ¤í…€ ì›¹íŒ© í™˜ê²½ì—ì„œ font preloadí•˜ë©´ì„œ ê²ªì€ ë¬¸ì œ ê³ ì°°](https://blog.naver.com/ssi02014/223079553571) ì°¸ê³ 
- ì‹¤ì œ ì ìš© ë°©ë²•ì€ í°íŠ¸ íŒŒì¼ë“¤ì´ `src/assets/fonts` ê²½ë¡œì— ìˆë‹¤ê³  ê°€ì •í•˜ê³ , `index.html`íŒŒì¼ì„ ì•„ë˜ì²˜ëŸ¼ ì‘ì„±í•˜ë©´ ëœë‹¤.
```html
<head>
  <!-- head -->
  <link
    rel="preload"
    href="/src/assets/fonts/Pretendard-Medium.subset.woff"
    as="font"
    type="font/woff"
    crossorigin
  />
</head>
```
- í˜„ì¬ ìƒíƒœì—ì„œ `build` í•´ë³´ê³  í™•ì¸í•´ë³´ë©´ ì œëŒ€ë¡œëœ ê²½ë¡œë¡œ íŒŒì¼ì„ ê°€ì ¸ì˜¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º_2023-04-19_á„‹á…©á„’á…®_7 33 26](https://user-images.githubusercontent.com/64779472/235470848-ff150182-1979-4b32-9c19-c0611c751292.png)


<br />

## ğŸ‘ ê·¸ ì™¸ ì¶”ê°€í•˜ë©´ ì¢‹ì€ ë¡œë” ë° í”ŒëŸ¬ê·¸ì¸
### â­ï¸ 1. SASS(SCSS)
- SassëŠ” Syntactically Awesome Style Sheetsì˜ ì•½ìë¡œ, CSSì˜ í™•ì¥ëœ ë¬¸ë²•ì„ ì œê³µí•˜ëŠ” CSS ì „ì²˜ë¦¬ê¸°(preprocessor)ë‹¤.
- SassëŠ” ë¹Œë“œ ì‹œì— CSS íŒŒì¼ë¡œ ì»´íŒŒì¼ë˜ì•¼ í•œë‹¤. ë”°ë¼ì„œ, webpackì—ì„œ Sass íŒŒì¼ì„ ì½ê³ , CSS íŒŒì¼ë¡œ ì»´íŒŒì¼í•˜ì—¬ ë²ˆë“¤ë§í•˜ë ¤ë©´ sass-loaderë¥¼ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.

<br />

**íŒ¨í‚¤ì§€ ì„¤ì¹˜**
```
yarn add -D sass sass-loader
```

<br />

**webpack ì…‹íŒ…**
- `[MiniCssExtractPlugin.loader, 'css-loader', 'sass-loader']` ì™€ ê°™ì´ ë°°ì—´ì„ ë„£ì—ˆëŠ”ë° ì—¬ê¸°ì„œ ìˆœì„œê°€ ì¤‘ìš”í•˜ë‹¤.
- ì´ëŠ” ë°°ì—´ ë§ˆì§€ë§‰ ìš”ì†Œë¶€í„° ë¡œë”ê°€ ì ìš©ë˜ê¸° ë•Œë¬¸ì¸ë°, sass-loaderë¥¼ í†µí•´ì„œ ë¨¼ì € sassíŒŒì¼ì„ cssë¡œ ì»´íŒŒì¼ í•œ í›„, css-loaderê°€ ì»´íŒŒì¼ ëœ css íŒŒì¼ì„ ëª¨ë“ˆë¡œ ì½ì–´ë“¤ì¸ ë‹¤ìŒ, MiniCssExtractPlugin.loader ê°€ ë³„ë„ì˜ íŒŒì¼ë¡œ ì¶”ì¶œëœ css íŒŒì¼ì„ ë¡œë“œí•˜ê¸° ë•Œë¬¸ì´ë‹¤.
- ë°°ì—´ ìˆœì„œë¥¼ ì •í™•í•˜ê²Œ ì‘ì„±í•˜ì§€ ë¡œë”ê°€ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ì§€ ì•Šì•„ ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë‹ˆ..ğŸ˜± ìˆœì„œë¥¼ ê¼­ ë§ì¶°ì£¼ì!
```js
module.exports = {
  module: {
    rules: [
      // ...webpack rules
      {
        test: /\.(sa|sc|c)ss$/i, // scss, sass, css íŒŒì¼ ë§¤ì¹­
        use: [MiniCssExtractPlugin.loader, 'css-loader', 'sass-loader'], // sass-loader ì¶”ê°€
      },
    ]
  }
}
```

<br />

**scssíŒŒì¼ ìƒì„± í›„ ì ìš©**
```scss
// style.scss
body {
  font-family: Pretendard;
  background-color: rgb(192, 249, 230);
}
```
```js
// App.tsx
import './style.scss';
import './style2.css';

function App() { 
  // ...
}

export default App;
```

<br />

### â­ï¸ 2. webpack-bundle-analyzer
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º_2022-06-04_á„‹á…©á„’á…®_11 39 30](https://github.com/ssi02014/react-dev-env-boilerplate/assets/64779472/265954b6-160b-4796-9f00-3697f3acc9cc)

- webpack-bundle-analyzerëŠ” webpack ë²ˆë“¤ë§ ê²°ê³¼ë¥¼ ì‹œê°í™”í•˜ì—¬ ë²ˆë“¤ë§ í¬ê¸°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ë„êµ¬ë‹¤.
- webpack-bundle-analyzerëŠ” webpackìœ¼ë¡œ ë²ˆë“¤ë§ëœ ê²°ê³¼ë¬¼ì„ ì‹œê°ì ìœ¼ë¡œ íŒŒì•…í•˜ì—¬ ë²ˆë“¤ë§ í¬ê¸°ë¥¼ ì¤„ì´ëŠ” ë° ë„ì›€ì„ ì¤„ ìˆ˜ ìˆë‹¤.
- [webpack-bundle-analyzer](https://www.npmjs.com/package/webpack-bundle-analyzer)

<br />

**íŒ¨í‚¤ì§€ ì„¤ì¹˜**
```
yarn add -D webpack-bundle-analyzer
```

<br />

**webpack ì…‹íŒ…**
```js
const BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin;

module.exports = {
  plugins: [
    // webpack plugins...

    new BundleAnalyzerPlugin({
      analyzerMode: "static", // ë¶„ì„ íŒŒì¼ htmlì„ buildí´ë”ì— ì €ì¥
      reportFilename: 'bundle-report.html', // ë¶„ì„ íŒŒì¼ ë³´ê³ ì„œ ì´ë¦„(ììœ ë¡­ê²Œ ì§€ì •)
      openAnalyzer: false, // ë¶„ì„ íŒŒì¼ì„ ì‹¤í–‰ ì‹œ ìë™ìœ¼ë¡œ ì—´ì§€ ì•ŠëŠ”ë‹¤.
      generateStatsFile: true, // ë¶„ì„ íŒŒì¼ì„ jsonìœ¼ë¡œ ì €ì¥í•œë‹¤.
      statsFilename: "bundle-report.json", // ë¶„ì„ íŒŒì¼ json íŒŒì¼ ì´ë¦„ (ììœ ë¡­ê²Œ ì§€ì •)
    })
  ]
}
```

<br />

**package.json ì…‹íŒ…**
```json
{
  // ...
  "scripts": {
    // ...
    "preanalyze": "yarn build:prod",
    "analyze": "webpack-bundle-analyzer ./build/bundle-report.json --default-sizes gzip",
  }
}
```

<br />

**yarn analyze ì‹¤í–‰**
- yarn analyze ì‹¤í–‰ ì‹œ ë¹Œë“œ í›„ ë¶„ì„ ì§„í–‰
```
yarn analyze
```